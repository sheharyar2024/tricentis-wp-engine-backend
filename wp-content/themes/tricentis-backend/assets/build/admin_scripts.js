"use strict";

//https://support.advancedcustomfields.com/forums/topic/sending-user-to-tab-on-validation-errors/
(function ($) {
  $(document).ready(function () {
    acf.add_filter('validation_complete', function (json) {
      if (json.errors) {
        $.each(json.errors, function (index) {
          var field = $('[name="' + json.errors[index].input + '"]').parents('.acf-field');
          var repeater = field[1];
          var previous_tabs = $(repeater).prevAll('[data-type="tab"]');
          var tab_data_key = $(previous_tabs[0]).attr('data-key');
          $('.acf-tab-wrap a[data-key=' + tab_data_key + ']').click();
        });
      }
      return json;
    });

    function ImageOrForm() {
      var img_elem = $("#acf-field_62b0b549e9f52-field_62b0b6b0f143e_field_62a21f4e38875-field_63e193c70b4a4-image");
      var form_elem = $("#acf-field_62b0b549e9f52-field_62b0b6b0f143e_field_62a21f4e38875-field_63e193c70b4a4-form");
      var form_fields = ["form_select_form", "form_reporting_title", "form_persona", "form_initiative", "form_stage", "form_co_code", "form_product", "form_type", "form_next_form", "form_redirect_url", "form_marketing_opt_in_checkbox", "form_terms_opt_in_checkbox", "form_consent_checkbox", "form_combobox_choices", "form_fremium_emails", "form_resource_form_cta", "form_custom_thank_you"];
      if (img_elem.length) {
        if (img_elem.is(':checked')) {
          showHideLoop(form_fields, "hide");
        }
        img_elem.click(function () {
          showHideLoop(form_fields, "hide");
        });
      }
      if (form_elem.length) {
        if (form_elem.is(':checked')) {
          showHideLoop(form_fields, "show");
        }
        form_elem.click(function () {
          showHideLoop(form_fields, "show");
        });
      }
    }
    function showHideLoop(form_fields, visibility) {
      for (var i = 0; i < form_fields.length; i++) {
        if (visibility == "show") $('div[data-name="' + form_fields[i] + '"]').show();else {
          $('div[data-name="' + form_fields[i] + '"]').hide();
          if ('form_reporting_title' == form_fields[i]) {
            $('div[data-name="' + form_fields[i] + '"]').find("input").val('Reporting Title');
          }
          if ('form_co_code' == form_fields[i]) {
            $('div[data-name="' + form_fields[i] + '"]').find("input").val('CO Code');
          }
          if ('form_select_form' == form_fields[i]) {
            $('div[data-name="' + form_fields[i] + '"]').find("select").append('<option value="0" data-select2-id="0">Select Form</option>');
          }
          if ('form_persona' == form_fields[i]) {
            $('div[data-name="' + form_fields[i] + '"]').find("select").val('technology_leadership').trigger('change.select2');
          }
          if ('form_initiative' == form_fields[i]) {
            $('div[data-name="' + form_fields[i] + '"]').find("select").val('sap_testing').trigger('change.select2');
          }
        }
      }
    }
    ImageOrForm();
  });
})(jQuery);
"use strict";

(function ($) {
  $(document).ready(function () {
    function triggerTemplateSelection() {
      var location = window.document.location;
      if (!location.pathname.includes('wp-admin/post-new.php')) return;
      var select = $("#page_template");
      setTimeout(function () {
        // Timeout needed in order to trigger the admin-ajax.php endpoint.
        select.trigger('change');
      }, 250);
    }
    ;
    triggerTemplateSelection();
  });
})(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluX3NjcmlwdHMuanMiLCJwb3N0X3NjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJhY2YiLCJhZGRfZmlsdGVyIiwianNvbiIsImVycm9ycyIsImVhY2giLCJpbmRleCIsImZpZWxkIiwiaW5wdXQiLCJwYXJlbnRzIiwicmVwZWF0ZXIiLCJwcmV2aW91c190YWJzIiwicHJldkFsbCIsInRhYl9kYXRhX2tleSIsImF0dHIiLCJjbGljayIsInRyaWdnZXJUZW1wbGF0ZVNlbGVjdGlvbiIsImxvY2F0aW9uIiwid2luZG93IiwicGF0aG5hbWUiLCJpbmNsdWRlcyIsInNlbGVjdCIsInNldFRpbWVvdXQiLCJ0cmlnZ2VyIiwiSW1hZ2VPckZvcm0iLCJpbWdfZWxlbSIsImZvcm1fZWxlbSIsImZvcm1fZmllbGRzIiwibGVuZ3RoIiwiaXMiLCJzaG93SGlkZUxvb3AiLCJ2aXNpYmlsaXR5IiwiaSIsInNob3ciLCJoaWRlIiwiZmluZCIsInZhbCIsImFwcGVuZCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFDWjtBQUNBLENBQUMsVUFBVUEsQ0FBQyxFQUFFO0VBQ1pBLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLENBQUNDLEtBQUssQ0FBQyxZQUFZO0lBQzVCQyxHQUFHLENBQUNDLFVBQVUsQ0FBQyxxQkFBcUIsRUFBRSxVQUFVQyxJQUFJLEVBQUU7TUFDcEQsSUFBSUEsSUFBSSxDQUFDQyxNQUFNLEVBQUU7UUFDYk4sQ0FBQyxDQUFDTyxJQUFJLENBQUNGLElBQUksQ0FBQ0MsTUFBTSxFQUFFLFVBQVVFLEtBQUssRUFBRTtVQUNqQyxJQUFJQyxLQUFLLEdBQUdULENBQUMsQ0FBQyxTQUFTLEdBQUdLLElBQUksQ0FBQ0MsTUFBTSxDQUFDRSxLQUFLLENBQUMsQ0FBQ0UsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDQyxPQUFPLENBQUMsWUFBWSxDQUFDO1VBQ2hGLElBQUlDLFFBQVEsR0FBR0gsS0FBSyxDQUFDLENB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O0VBR2YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxFQUFFYyxNQUFNLENBQUM7OztBQ2pGVixDQUFDLFVBQVN4QyxDQUFDLEVBQUU7RUFDVEEsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQ0MsS0FBSyxDQUFDLFlBQVc7SUFDekIsU0FBU2dCLHdCQUF3QkEsQ0FBQSxFQUFHO01BQ3BDLElBQUlDLFFBQVEsR0FBR0MsTUFBTSxDQUFDbkIsUUFBUSxDQUFDa0IsUUFBUTtNQUN2QyxJQUFJLENBQUNBLFFBQVEsQ0FBQ0UsUUFBUSxDQUFDQyxRQUFRLENBQUMsdUJBQXVCLENBQUMsRUFBRTtNQUUxRCxJQUFJQyxNQUFNLEdBQUd2QixDQUFDLENBQUMsZ0JBQWdCLENBQUM7TUFDaEN3QixVQUFVLENBQUMsWUFBTTtRQUFFO1FBQ25CRCxNQUFNLENBQUNFLE9BQU8sQ0FBQyxRQUFRLENBQUM7TUFDeEIsQ0FBQyxFQUFFLEdBQUcsQ0FBQztJQUVYO0lBQUM7SUFDRFAsd0JBQXdCLENBQUMsQ0FBQztFQUMxQixDQUFDLENBQUM7QUFDTixDQUFDLEVBQUVzQixNQUFNLENBQUMiLCJmaWxlIjoiYWRtaW5fc2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy9odHRwczovL3N1cHBvcnQuYWR2YW5jZWRjdXN0b21maWVsZHMuY29tL2ZvcnVtcy90b3BpYy9zZW5kaW5nLXVzZXItdG8tdGFiLW9uLXZhbGlkYXRpb24tZXJyb3JzL1xuKGZ1bmN0aW9uICgkKSB7XG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICBhY2YuYWRkX2ZpbHRlcigndmFsaWRhdGlvbl9jb21wbGV0ZScsIGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICBpZiAoanNvbi5lcnJvcnMpIHtcbiAgICAgICAgICAkLmVhY2goanNvbi5lcnJvcnMsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICB2YXIgZmllbGQgPSAkKCdbbmFtZT1cIicgKyBqc29uLmVycm9yc1tpbmRleF0uaW5wdXQgKyAnXCJdJykucGFyZW50cygnLmFjZi1maWVsZCcpO1xuICAgICAgICAgICAgICB2YXIgcmVwZWF0ZXIgPSBmaWVsZFsxXTtcbiAgICAgICAgICAgICAgdmFyIHByZXZpb3VzX3RhYnMgPSAkKHJlcGVhdGVyKS5wcmV2QWxsKCdbZGF0YS10eXBlPVwidGFiXCJdJyk7XG4gICAgICAgICAgICAgIHZhciB0YWJfZGF0YV9rZXkgPSAkKHByZXZpb3VzX3RhYnNbMF0pLmF0dHIoJ2RhdGEta2V5Jyk7XG4gICAgICAgICAgICAgICQoJy5hY2YtdGFiLXdyYXAgYVtkYXRhLWtleT0nICsgdGFiX2RhdGFfa2V5ICsgJ10nKS5jbGljaygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGpzb247XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiB0cmlnZ2VyVGVtcGxhdGVTZWxlY3Rpb24oKSB7XG4gICAgICB2YXIgbG9jYXRpb24gPSB3aW5kb3cuZG9jdW1lbnQubG9jYXRpb247XG4gICAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCd3cC1hZG1pbi9wb3N0LW5ldy5waHAnKSkgcmV0dXJuO1xuXG4gICAgICB2YXIgc2VsZWN0ID0gJChcIiNwYWdlX3RlbXBsYXRlXCIpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7IC8vIFRpbWVvdXQgbmVlZGVkIGluIG9yZGVyIHRvIHRyaWdnZXIgdGhlIGFkbWluLWFqYXgucGhwIGVuZHBvaW50LlxuICAgICAgICBzZWxlY3QudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICB9LCAyNTApO1xuICAgICAgXG4gICAgfTtcbiAgICB0cmlnZ2VyVGVtcGxhdGVTZWxlY3Rpb24oKTtcbiAgICBcbiAgICBmdW5jdGlvbiBJbWFnZU9yRm9ybSgpIHtcbiAgICAgIHZhciBpbWdfZWxlbSA9ICQoIFwiI2FjZi1maWVsZF82MmIwYjU0OWU5ZjUyLWZpZWxkXzYyYjBiNmIwZjE0M2VfZmllbGRfNjJhMjFmNGUzODg3NS1maWVsZF82M2UxOTNjNzBiNGE0LWltYWdlXCIgKTtcbiAgICAgIHZhciBmb3JtX2VsZW0gPSAkKCBcIiNhY2YtZmllbGRfNjJiMGI1NDllOWY1Mi1maWVsZF82MmIwYjZiMGYxNDNlX2ZpZWxkXzYyYTIxZjRlMzg4NzUtZmllbGRfNjNlMTkzYzcwYjRhNC1mb3JtXCIgKTtcblxuICAgICAgdmFyIGZvcm1fZmllbGRzID0gW1wiZm9ybV9zZWxlY3RfZm9ybVwiLCBcImZvcm1fcmVwb3J0aW5nX3RpdGxlXCIsIFwiZm9ybV9wZXJzb25hXCIsIFwiZm9ybV9pbml0aWF0aXZlXCIsIFwiZm9ybV9zdGFnZVwiLCBcImZvcm1fY29fY29kZVwiLCBcImZvcm1fcHJvZHVjdFwiLCBcImZvcm1fdHlwZVwiLCBcImZvcm1fbmV4dF9mb3JtXCIsIFwiZm9ybV9yZWRpcmVjdF91cmxcIiwgXCJmb3JtX21hcmtldGluZ19vcHRfaW5fY2hlY2tib3hcIiwgXCJmb3JtX3Rlcm1zX29wdF9pbl9jaGVja2JveFwiLCBcImZvcm1fY29uc2VudF9jaGVja2JveFwiLCBcImZvcm1fY29tYm9ib3hfY2hvaWNlc1wiLCBcImZvcm1fZnJlbWl1bV9lbWFpbHNcIiwgXCJmb3JtX3Jlc291cmNlX2Zvcm1fY3RhXCIsIFwiZm9ybV9jdXN0b21fdGhhbmtfeW91XCJdO1xuXG4gICAgICBpZihpbWdfZWxlbS5sZW5ndGgpe1xuICAgICAgICBpZihpbWdfZWxlbS5pcygnOmNoZWNrZWQnKSl7XG4gICAgICAgICAgc2hvd0hpZGVMb29wKGZvcm1fZmllbGRzLCBcImhpZGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaW1nX2VsZW0uY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2hvd0hpZGVMb29wKGZvcm1fZmllbGRzLCBcImhpZGVcIik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYoZm9ybV9lbGVtLmxlbmd0aCl7XG4gICAgICAgIGlmKGZvcm1fZWxlbS5pcygnOmNoZWNrZWQnKSl7XG4gICAgICAgICAgc2hvd0hpZGVMb29wKGZvcm1fZmllbGRzLCBcInNob3dcIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybV9lbGVtLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNob3dIaWRlTG9vcChmb3JtX2ZpZWxkcywgXCJzaG93XCIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvd0hpZGVMb29wKGZvcm1fZmllbGRzLCB2aXNpYmlsaXR5KXtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm9ybV9maWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYodmlzaWJpbGl0eSA9PSBcInNob3dcIilcbiAgICAgICAgICAkKCdkaXZbZGF0YS1uYW1lPVwiJytmb3JtX2ZpZWxkc1tpXSsnXCJdJykuc2hvdygpO1xuICAgICAgICBlbHNle1xuICAgICAgICAgICQoJ2RpdltkYXRhLW5hbWU9XCInK2Zvcm1fZmllbGRzW2ldKydcIl0nKS5oaWRlKCk7XG5cbiAgICAgICAgICBpZignZm9ybV9yZXBvcnRpbmdfdGl0bGUnID09IGZvcm1fZmllbGRzW2ldKXtcbiAgICAgICAgICAgICQoJ2RpdltkYXRhLW5hbWU9XCInK2Zvcm1fZmllbGRzW2ldKydcIl0nKS5maW5kKFwiaW5wdXRcIikudmFsKCdSZXBvcnRpbmcgVGl0bGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoJ2Zvcm1fY29fY29kZScgPT0gZm9ybV9maWVsZHNbaV0pe1xuICAgICAgICAgICAgJCgnZGl2W2RhdGEtbmFtZT1cIicrZm9ybV9maWVsZHNbaV0rJ1wiXScpLmZpbmQoXCJpbnB1dFwiKS52YWwoJ0NPIENvZGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoJ2Zvcm1fc2VsZWN0X2Zvcm0nID09IGZvcm1fZmllbGRzW2ldKXtcbiAgICAgICAgICAgICQoJ2RpdltkYXRhLW5hbWU9XCInK2Zvcm1fZmllbGRzW2ldKydcIl0nKS5maW5kKFwic2VsZWN0XCIpLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT1cIjBcIiBkYXRhLXNlbGVjdDItaWQ9XCIwXCI+U2VsZWN0IEZvcm08L29wdGlvbj4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoJ2Zvcm1fcGVyc29uYScgPT0gZm9ybV9maWVsZHNbaV0pe1xuICAgICAgICAgICAgJCgnZGl2W2RhdGEtbmFtZT1cIicrZm9ybV9maWVsZHNbaV0rJ1wiXScpLmZpbmQoXCJzZWxlY3RcIikudmFsKCd0ZWNobm9sb2d5X2xlYWRlcnNoaXAnKS50cmlnZ2VyKCdjaGFuZ2Uuc2VsZWN0MicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZignZm9ybV9pbml0aWF0aXZlJyA9PSBmb3JtX2ZpZWxkc1tpXSl7XG4gICAgICAgICAgICAkKCdkaXZbZGF0YS1uYW1lPVwiJytmb3JtX2ZpZWxkc1tpXSsnXCJdJykuZmluZChcInNlbGVjdFwiKS52YWwoJ3NhcF90ZXN0aW5nJykudHJpZ2dlcignY2hhbmdlLnNlbGVjdDInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgSW1hZ2VPckZvcm0oKTtcblxuICAgIFxuICB9KTtcbn0pKGpRdWVyeSk7IiwiKGZ1bmN0aW9uKCQpIHtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gdHJpZ2dlclRlbXBsYXRlU2VsZWN0aW9uKCkge1xuICAgICAgICB2YXIgbG9jYXRpb24gPSB3aW5kb3cuZG9jdW1lbnQubG9jYXRpb247XG4gICAgICAgIGlmICghbG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJ3dwLWFkbWluL3Bvc3QtbmV3LnBocCcpKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHNlbGVjdCA9ICQoXCIjcGFnZV90ZW1wbGF0ZVwiKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IC8vIFRpbWVvdXQgbmVlZGVkIGluIG9yZGVyIHRvIHRyaWdnZXIgdGhlIGFkbWluLWFqYXgucGhwIGVuZHBvaW50LlxuICAgICAgICBzZWxlY3QudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgIH0sIDI1MCk7XG4gICAgICAgIFxuICAgIH07XG4gICAgdHJpZ2dlclRlbXBsYXRlU2VsZWN0aW9uKCk7XG4gICAgfSk7XG59KShqUXVlcnkpIl19
